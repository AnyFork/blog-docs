import{o as i,c as d,H as s,b as g,a5 as c,v as C,F as P,D as b,O as y,e as x,t as k,_ as L,f as T,s as V,y as N,V as o,d as M,aa as h,i as S,W as m,ab as B,ac as H}from"./app.229ed7a2.js";var _=(n,l)=>{const e=n.__vccOpts||n;for(const[f,r]of l)e[f]=r;return e};const w={data(){return{innerValue:1}},props:{modelValue:{type:Number},pageCount:{type:Number,required:!0},initialPage:{type:Number,default:1},forcePage:{type:Number},clickHandler:{type:Function,default:()=>{}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:"\u2026"},containerClass:{type:String,default:"pagination"},pageClass:{type:String,default:"page-item"},pageLinkClass:{type:String,default:"page-link"},prevClass:{type:String,default:"page-item"},prevLinkClass:{type:String,default:"page-link"},nextClass:{type:String,default:"page-item"},nextLinkClass:{type:String,default:"page-link"},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},computed:{selected:{get:function(){return this.modelValue||this.innerValue},set:function(n){this.innerValue=n}},pages:function(){let n={};if(this.pageCount<=this.pageRange)for(let l=0;l<this.pageCount;l++){let e={index:l,content:l+1,selected:l===this.selected-1};n[l]=e}else{const l=Math.floor(this.pageRange/2);let e=t=>{let u={index:t,content:t+1,selected:t===this.selected-1};n[t]=u},f=t=>{let u={disabled:!0,breakView:!0};n[t]=u};for(let t=0;t<this.marginPages;t++)e(t);let r=0;this.selected-l>0&&(r=this.selected-1-l);let a=r+this.pageRange-1;a>=this.pageCount&&(a=this.pageCount-1,r=a-this.pageRange+1);for(let t=r;t<=a&&t<=this.pageCount-1;t++)e(t);r>this.marginPages&&f(r-1),a+1<this.pageCount-this.marginPages&&f(a+1);for(let t=this.pageCount-1;t>=this.pageCount-this.marginPages;t--)e(t)}return n}},methods:{handlePageSelected(n){this.selected!==n&&(this.innerValue=n,this.$emit("update:modelValue",n),this.clickHandler(n))},prevPage(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected(){return this.selected===1},lastPageSelected(){return this.selected===this.pageCount||this.pageCount===0},selectFirstPage(){this.selected<=1||this.handlePageSelected(1)},selectLastPage(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}},beforeMount(){this.innerValue=this.initialPage},beforeUpdate(){this.forcePage!==void 0&&this.forcePage!==this.selected&&(this.selected=this.forcePage)}},F=["tabindex","innerHTML"],K=["tabindex","innerHTML"],z=["onClick","onKeyup"],R=["tabindex","innerHTML"],D=["tabindex","innerHTML"],E=["innerHTML"],U=["innerHTML"],I=["onClick","onKeyup"],j=["innerHTML"],A=["innerHTML"];function O(n,l,e,f,r,a){return e.noLiSurround?(i(),d("div",{key:1,class:s(e.containerClass)},[e.firstLastButton?(i(),d("a",{key:0,onClick:l[8]||(l[8]=t=>a.selectFirstPage()),onKeyup:l[9]||(l[9]=c(t=>a.selectFirstPage(),["enter"])),class:s([e.pageLinkClass,a.firstPageSelected()?e.disabledClass:""]),tabindex:"0",innerHTML:e.firstButtonText},null,42,E)):C("",!0),a.firstPageSelected()&&e.hidePrevNext?C("",!0):(i(),d("a",{key:1,onClick:l[10]||(l[10]=t=>a.prevPage()),onKeyup:l[11]||(l[11]=c(t=>a.prevPage(),["enter"])),class:s([e.prevLinkClass,a.firstPageSelected()?e.disabledClass:""]),tabindex:"0",innerHTML:e.prevText},null,42,U)),(i(!0),d(P,null,b(a.pages,t=>(i(),d(P,null,[t.breakView?(i(),d("a",{key:t.index,class:s([e.pageLinkClass,e.breakViewLinkClass,t.disabled?e.disabledClass:""]),tabindex:"0"},[y(n.$slots,"breakViewContent",{},()=>[x(k(e.breakViewText),1)])],2)):t.disabled?(i(),d("a",{key:t.index,class:s([e.pageLinkClass,t.selected?e.activeClass:"",e.disabledClass]),tabindex:"0"},k(t.content),3)):(i(),d("a",{key:t.index,onClick:u=>a.handlePageSelected(t.index+1),onKeyup:c(u=>a.handlePageSelected(t.index+1),["enter"]),class:s([e.pageLinkClass,t.selected?e.activeClass:""]),tabindex:"0"},k(t.content),43,I))],64))),256)),a.lastPageSelected()&&e.hidePrevNext?C("",!0):(i(),d("a",{key:2,onClick:l[12]||(l[12]=t=>a.nextPage()),onKeyup:l[13]||(l[13]=c(t=>a.nextPage(),["enter"])),class:s([e.nextLinkClass,a.lastPageSelected()?e.disabledClass:""]),tabindex:"0",innerHTML:e.nextText},null,42,j)),e.firstLastButton?(i(),d("a",{key:3,onClick:l[14]||(l[14]=t=>a.selectLastPage()),onKeyup:l[15]||(l[15]=c(t=>a.selectLastPage(),["enter"])),class:s([e.pageLinkClass,a.lastPageSelected()?e.disabledClass:""]),tabindex:"0",innerHTML:e.lastButtonText},null,42,A)):C("",!0)],2)):(i(),d("ul",{key:0,class:s(e.containerClass)},[e.firstLastButton?(i(),d("li",{key:0,class:s([e.pageClass,a.firstPageSelected()?e.disabledClass:""])},[g("a",{onClick:l[0]||(l[0]=t=>a.selectFirstPage()),onKeyup:l[1]||(l[1]=c(t=>a.selectFirstPage(),["enter"])),class:s(e.pageLinkClass),tabindex:a.firstPageSelected()?-1:0,innerHTML:e.firstButtonText},null,42,F)],2)):C("",!0),a.firstPageSelected()&&e.hidePrevNext?C("",!0):(i(),d("li",{key:1,class:s([e.prevClass,a.firstPageSelected()?e.disabledClass:""])},[g("a",{onClick:l[2]||(l[2]=t=>a.prevPage()),onKeyup:l[3]||(l[3]=c(t=>a.prevPage(),["enter"])),class:s(e.prevLinkClass),tabindex:a.firstPageSelected()?-1:0,innerHTML:e.prevText},null,42,K)],2)),(i(!0),d(P,null,b(a.pages,t=>(i(),d("li",{key:t.index,class:s([e.pageClass,t.selected?e.activeClass:"",t.disabled?e.disabledClass:"",t.breakView?e.breakViewClass:""])},[t.breakView?(i(),d("a",{key:0,class:s([e.pageLinkClass,e.breakViewLinkClass]),tabindex:"0"},[y(n.$slots,"breakViewContent",{},()=>[x(k(e.breakViewText),1)])],2)):t.disabled?(i(),d("a",{key:1,class:s(e.pageLinkClass),tabindex:"0"},k(t.content),3)):(i(),d("a",{key:2,onClick:u=>a.handlePageSelected(t.index+1),onKeyup:c(u=>a.handlePageSelected(t.index+1),["enter"]),class:s(e.pageLinkClass),tabindex:"0"},k(t.content),43,z))],2))),128)),a.lastPageSelected()&&e.hidePrevNext?C("",!0):(i(),d("li",{key:2,class:s([e.nextClass,a.lastPageSelected()?e.disabledClass:""])},[g("a",{onClick:l[4]||(l[4]=t=>a.nextPage()),onKeyup:l[5]||(l[5]=c(t=>a.nextPage(),["enter"])),class:s(e.nextLinkClass),tabindex:a.lastPageSelected()?-1:0,innerHTML:e.nextText},null,42,R)],2)),e.firstLastButton?(i(),d("li",{key:3,class:s([e.pageClass,a.lastPageSelected()?e.disabledClass:""])},[g("a",{onClick:l[6]||(l[6]=t=>a.selectLastPage()),onKeyup:l[7]||(l[7]=c(t=>a.selectLastPage(),["enter"])),class:s(e.pageLinkClass),tabindex:a.lastPageSelected()?-1:0,innerHTML:e.lastButtonText},null,42,D)],2)):C("",!0)],2))}var q=_(w,[["render",O]]);const W={key:0,class:"w-full flex items-center justify-center"},G={class:"my-[20px] flex ml-[50px]"},J=x("\u8DF3\u81F3: "),Q=x("\u6BCF\u9875: "),X=g("option",{value:10},"10",-1),Y=g("option",{value:15},"15",-1),Z=g("option",{value:20},"20",-1),p=[X,Y,Z],$=x(" \u6761"),ee=T({__name:"Pagination",props:{pageTotal:null,pageNumber:null,pageSize:null},emits:["click"],setup(n,{emit:l}){const e=n,f=(t,u)=>{l("click",{page:t,pageSize:u})},r=V(()=>Math.ceil(e.pageTotal/e.pageSize)),a=N(void 0);return o(a,t=>{t&&(parseInt(t)>r.value?alert(`\u8F93\u5165\u7684\u9875\u9762\u4E0D\u80FD\u8D85\u8FC7\uFF1A${r.value}`):f(parseInt(t),e.pageSize))}),o(()=>e.pageNumber,t=>{t+""!=a.value&&(a.value=void 0),t&&f(t,e.pageSize)}),o(()=>e.pageSize,t=>{f(1,t)}),(t,u)=>n.pageTotal>10?(i(),d("div",W,[M(S(q),{modelValue:n.pageNumber,"onUpdate:modelValue":u[0]||(u[0]=v=>h(pageNumber)?pageNumber.value=v:null),"page-count":S(r),"prev-text":"\u4E0A\u4E00\u9875","next-text":"\u4E0B\u4E00\u9875","container-class":"pagination","page-class":"page-item","page-range":3,"margin-pages":3,"hide-prev-next":!0},null,8,["modelValue","page-count"]),g("div",G,[g("span",null,[J,m(g("input",{type:"text","onUpdate:modelValue":u[1]||(u[1]=v=>a.value=v),class:"w-5 h-[20px]"},null,512),[[B,a.value]])]),g("span",null,[Q,m(g("select",{"onUpdate:modelValue":u[2]||(u[2]=v=>h(pageSize)?pageSize.value=v:null),class:"h-[25px]"},p,512),[[H,n.pageSize]]),$]),g("span",null,"\u5171: "+k(e.pageTotal)+"\u6761",1)])])):C("",!0)}});var ae=L(ee,[["__file","Pagination.vue"]]);export{ae as default};
