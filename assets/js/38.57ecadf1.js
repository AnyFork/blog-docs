(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{679:function(s,n,t){"use strict";t.r(n);var a=t(4),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("pm2 是一个进程管理工具,可以用它来管理你的 node 进程，并查看 node 进程的状态，当然也支持性能监控，进程守护，负载均衡等功能")])]),s._v(" "),t("h2",{attrs:{id:"一、pm2-官网信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、pm2-官网信息"}},[s._v("#")]),s._v(" 一、pm2 官网信息")]),s._v(" "),t("p",[s._v("1、pm2 官网地址："),t("a",{attrs:{href:"https://pm2.keymetrics.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://pm2.keymetrics.io/"),t("OutboundLink")],1),t("br"),s._v("\n2、pm2 官方文档："),t("a",{attrs:{href:"https://pm2.keymetrics.io/docs/usage/quick-start/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://pm2.keymetrics.io/docs/usage/quick-start/"),t("OutboundLink")],1),t("br"),s._v("\n3、pm2 github 地址："),t("a",{attrs:{href:"https://github.com/Unitech/pm2",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/Unitech/pm2"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"二、pm2-安装步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、pm2-安装步骤"}},[s._v("#")]),s._v(" 二、pm2 安装步骤")]),s._v(" "),t("p",[s._v("1、pm2 安装需要依赖"),t("code",[s._v("Node")]),s._v("环境，并且"),t("code",[s._v("Node")]),s._v("版本需要高于 12，如果为安装"),t("code",[s._v("Node")]),s._v(",请参考："),t("RouterLink",{attrs:{to:"/node/"}},[s._v("Node 环境安装")]),t("br"),s._v("\n2、pm2 安装命令")],1),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局安装pm2")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" pm2 -g\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("3、开始启动一个应用")]),s._v(" "),t("p",[s._v("配置 pm2 应用实例配置文件"),t("code",[s._v("ecosystem.config.js")]),s._v(",如下：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("//pm2实例配置：ecosystem.config.js\nmodule.exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  apps: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      //实例名称\n      name: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NuxtRmbRate'")]),s._v(",\n      //部署模式，单机："),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fork'")]),s._v(",集群："),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cluster'")]),s._v("\n      exec_mode: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fork'")]),s._v(",\n      //实例数目\n      instances: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),s._v(",\n      //nuxt start的执行路径\n      script: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./node_modules/nuxt/bin/nuxt.js'")]),s._v(",\n      //启动参数\n      args: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'start'")]),s._v(",\n      // 完整日志路径\n      output: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'log/output.log'")]),s._v(",\n      // 错误日志路径\n      error: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'log/error.log'")]),s._v(",\n      // 访问日志路径\n      log: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'log/access.log'")]),s._v(",\n      // 日志格式\n      log_type: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'json'")]),s._v(",\n      // 合并日志\n      merge_logs: true,\n      // 日志日期格式\n      log_date_format: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'YYYY-MM-DD HH:mm:ss'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br")])]),t("p",[s._v("启动名字为"),t("code",[s._v("NuxtRmbRate")]),s._v("的应用")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pm2 start ecosystem.config.js\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"三、pm2-常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、pm2-常用命令"}},[s._v("#")]),s._v(" 三、pm2 常用命令")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示所有进程状态")]),s._v("\npm2 list\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 监视所有进程")]),s._v("\npm2 monit\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示所有进程日志")]),s._v("\npm2 logs\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示id=0的进程日志")]),s._v("\npm2 logs "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止所有进程")]),s._v("\npm2 stop all\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启所有进程")]),s._v("\npm2 restart all\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 0秒停机重载进程 (用于 NETWORKED 进程)")]),s._v("\npm2 reload all\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止指定的进程")]),s._v("\npm2 stop "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启指定的进程")]),s._v("\npm2 restart "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 产生 init 脚本 保持进程活着")]),s._v("\npm2 startup\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行健壮的 computer API endpoint ([http://localhost:9615](http://localhost:9615/))")]),s._v("\npm2 web\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 杀死指定的进程")]),s._v("\npm2 delete "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 杀死全部进程")]),s._v("\npm2 delete all\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看进程详细信息")]),s._v("\npm2 describe "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])]),t("Reward")],1)}),[],!1,null,null,null);n.default=e.exports}}]);