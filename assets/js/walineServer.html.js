import{_ as t,o as i,c as o,a as s,X as a,v as n,b as l,a2 as c}from"./anyfork.js";const d={},r=s("p",null,"\u2003waline \u662F\u4E00\u6B3E\u7B80\u6D01\u3001\u5B89\u5168\u7684\u8BC4\u8BBA\u7CFB\u7EDF\uFF0C\u8BE5\u7CFB\u7EDF\u5305\u542B\u4E86\u5BA2\u6237\u7AEF\u4E0E\u670D\u52A1\u7AEF\uFF0C\u5C5E\u4E8E valine \u7684\u884D\u751F\u7248\u672C\uFF0C\u589E\u52A0\u4E86\u670D\u52A1\u7AEF\u529F\u80FD\uFF0C\u89E3\u51B3\u4E86 valine \u9605\u8BFB\u6570\u636E\u7BE1\u6539\uFF0CXSS \u5B89\u5168\uFF0C\u7528\u6237\u9690\u79C1\u6CC4\u9732\u7B49\u6570\u636E\u5B89\u5168\u95EE\u9898\u3002waline \u4E0D\u4EC5\u5177\u6709 valine \u529F\u80FD\uFF0C\u8FD8\u63D0\u4F9B\u4E86\u90AE\u4EF6\u901A\u77E5\u3001\u5FAE\u4FE1\u901A\u77E5\u3001\u8BC4\u8BBA\u540E\u53F0\u7BA1\u7406\u3001LeanCloud, MySQL, MongoDB, SQLite, PostgreSQL \u591A\u5B58\u50A8\u670D\u52A1\u652F\u6301\u7B49\u8BF8\u591A\u7279\u6027\u3002\u4E0D\u4EC5\u5982\u6B64\uFF0CWaline \u9ED8\u8BA4\u4F7F\u7528 Vercel \u90E8\u7F72\uFF0C\u5B9E\u73B0\u5B8C\u5168\u514D\u8D39\u90E8\u7F72\uFF01\u672C\u6587\u7740\u91CD\u8BB0\u5F55 waline \u670D\u52A1\u5668\u72EC\u7ACB\u90E8\u7F72\u7684\u8FC7\u7A0B\u3002",-1),p=s("h2",{id:"\u7B80\u8FF0",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u7B80\u8FF0","aria-hidden":"true"},"#"),n(" \u7B80\u8FF0")],-1),u=n("\u2003waline \u4F5C\u4E3A valine \u7684\u52A0\u5F3A\u7248\uFF0C\u589E\u52A0\u4E86\u670D\u52A1\u7AEF\u529F\u80FD\uFF0C\u652F\u6301\u591A\u79CD\u6570\u636E\u5E93\u548C\u81EA\u5B9A\u4E49\u6570\u636E\u5E93\u6A21\u5F0F\uFF0C\u6570\u636E\u5B58\u50A8\u66F4\u52A0\u5B89\u5168\u3002waline \u9ED8\u8BA4\u6570\u636E\u5E93:"),v={href:"https://console.leancloud.app/login",target:"_blank",rel:"noopener noreferrer"},h=n("LeanCloud"),_=n("\uFF0C"),m=s("code",null,"LeanCloud",-1),b=n("\u6709"),k={href:"https://console.leancloud.cn/login?from=%2Fapps",target:"_blank",rel:"noopener noreferrer"},g=n("\u56FD\u5185\u7248"),f=n("\u548C"),S={href:"https://console.leancloud.app/login?from=%2Fapps",target:"_blank",rel:"noopener noreferrer"},w=n("\u56FD\u9645\u7248"),x=n("2 \u4E2A\u7248\u672C\uFF0C\u56FD\u5185\u7248\u9700\u8981\u914D\u7F6E\u81EA\u5B9A\u4E49\u57DF\u540D\uFF0C\u56FD\u9645\u7248\u8BBF\u95EE\u5B58\u5728\u5F88\u9AD8\u5EF6\u8FDF\uFF0C\u5982\u679C\u4E0D\u8003\u8651\u6570\u636E\u5B89\u5168\u6027\uFF0C\u53EF\u4EE5\u5C1D\u8BD5"),L=s("code",null,"leancloud",-1),y=n("\u6570\u636E\u5E93\u3002\u9ED8\u8BA4\u90E8\u7F72\u65B9\u6848\uFF1A"),M={href:"https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fwalinejs%2Fwaline%2Ftree%2Fmain%2Fexample",target:"_blank",rel:"noopener noreferrer"},Q=n("Vercel"),E=n("\uFF0C"),j=s("code",null,"Vercel",-1),C=n("\u662F\u4E00\u79CD\u514D\u8D39\u7684\u90E8\u7F72\u65B9\u6848\uFF0C\u90E8\u7F72\u4E5F\u6BD4\u8F83\u7B80\u5355\uFF0C\u6CE8\u518C\u767B\u5F55\u540E\u914D\u7F6E\u73AF\u5883\u53D8\u91CF\uFF0C\u6253\u5305\u7F16\u8BD1\u5373\u53EF(\u4F9D\u8D56 github \u4ED3\u5E93)\uFF0C\u4F46\u6700\u8FD1"),Y=s("code",null,"vercel",-1),A=n("\u597D\u50CF\u6302\u4E86\uFF0C\u6CA1\u6709\u68AF\u5B50\u6839\u672C\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u6240\u6709\u535A\u4E3B\u653E\u5F03\u4E86\u9ED8\u8BA4\u90E8\u7F72\u65B9\u5F0F\uFF0C\u91C7\u7528"),H=s("code",null,"waline",-1),D=n("\u670D\u52A1\u7AEF\u72EC\u7ACB\u90E8\u7F72\u65B9\u6848\u3002\u66F4\u591A\u5176\u4ED6\u90E8\u7F72\u65B9\u6848\uFF0C\u8BF7\u53C2\u8003"),F={href:"https://waline.js.org/",target:"_blank",rel:"noopener noreferrer"},R=n("waline \u5B98\u7F51"),T=n("\u3002"),q={class:"custom-container warning"},O=s("p",{class:"custom-container-title"},"\u6CE8\u610F",-1),$=s("p",null,[s("code",null,"waline"),n("\u670D\u52A1\u7AEF\u72EC\u7ACB\u90E8\u7F72\u9700\u8981\u5177\u5907\u4EE5\u4E0B\u6761\u4EF6\uFF1A")],-1),P=n("1\u3001\u4E00\u53F0\u4E91\u670D\u52A1\u5668\u548C\u5B89\u88C5\u597D\u7684\u6570\u636E\u5E93(\u4F8B\u5982\uFF1AMySQL)\uFF0C\u5176\u4ED6\u6570\u636E\u5E93\u53C2\u8003"),N={href:"https://waline.js.org/guide/server/databases.html",target:"_blank",rel:"noopener noreferrer"},B=n("\u591A\u6570\u636E\u6E90\u53C2\u8003"),V=n("\u3002"),X=s("p",null,[n("2\u3001"),s("code",null,"Nodejs"),n("\u73AF\u5883\u5B89\u88C5\u914D\u7F6E\uFF0C\u9879\u76EE\u90E8\u7F72\u4F9D\u8D56 Node \u73AF\u5883\uFF0C\u9700\u8981\u63D0\u524D\u5B89\u88C5\u597D\u73AF\u5883\u3002")],-1),I=s("h2",{id:"\u51C6\u5907\u5DE5\u4F5C",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u51C6\u5907\u5DE5\u4F5C","aria-hidden":"true"},"#"),n(" \u51C6\u5907\u5DE5\u4F5C")],-1),W=n("\u2003"),U=s("code",null,"waline",-1),z=n("\u670D\u52A1\u7AEF\u72EC\u7ACB\u90E8\u7F72\u5F88\u7B80\u5355\uFF0C\u53EF\u4EE5\u53C2\u8003"),G={href:"https://waline.js.org/guide/server/vps-deploy.html",target:"_blank",rel:"noopener noreferrer"},J=n("waline \u5B98\u7F51"),K=n("\u72EC\u7ACB\u90E8\u7F72\uFF0C\u5B98\u7F51\u63CF\u8FF0\u6BD4\u8F83\u7B80\u5355\uFF0C\u4EC5\u4F9B\u53C2\u8003\u3002\u672C\u6587\u72EC\u7ACB\u90E8\u7F72\u53EA\u9700\u8981 3 \u5927\u6B65\u9AA4\uFF1A"),Z=s("code",null,"\u73AF\u5883\u53D8\u91CF\u914D\u7F6E",-1),nn=n("\uFF0C"),sn=s("code",null,"\u9879\u76EE\u4F9D\u8D56\u5305\u914D\u7F6E",-1),en=n("\u548C"),an=s("code",null,"\u670D\u52A1\u5668\u90E8\u7F72",-1),tn=n("\u3002\u4E0B\u9762\u8BB2\u8FF0\u5177\u4F53\u5B9E\u73B0\u65B9\u5F0F\u3002"),on=s("h3",{id:"\u73AF\u5883\u53D8\u91CF\u914D\u7F6E",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u73AF\u5883\u53D8\u91CF\u914D\u7F6E","aria-hidden":"true"},"#"),n(" \u73AF\u5883\u53D8\u91CF\u914D\u7F6E")],-1),ln=n("\u2003\u73AF\u5883\u53D8\u91CF\u914D\u7F6E\u6307\uFF1A\u914D\u7F6E"),cn=s("code",null,"waline",-1),dn=n("\u6570\u636E\u5E93\u73AF\u5883\u53D8\u91CF\u3002"),rn=s("code",null,"waline",-1),pn=n("\u91C7\u7528\u73AF\u5883\u53D8\u91CF\u7684\u65B9\u5F0F\u8BFB\u53D6\u914D\u7F6E\u4FE1\u606F\uFF0C\u5185\u7F6E\u4E86\u591A\u79CD\u6570\u636E\u5E93\u73AF\u5883\u53D8\u91CF\uFF0C\u5177\u4F53\u53C2\u8003"),un={href:"https://waline.js.org/guide/server/databases.html",target:"_blank",rel:"noopener noreferrer"},vn=n("\u591A\u6570\u636E\u6E90\u73AF\u5883\u53D8\u91CF"),hn=n("\u3002\u6211\u4EEC\u53EA\u9700\u8981\u6309\u7167\u5185\u7F6E\u914D\u7F6E\u9879\u8FDB\u884C\u914D\u7F6E\uFF0C\u5C31\u53EF\u4EE5\u66F4\u6362\u5BF9\u5E94\u7684\u6570\u636E\u5E93\u3002\u4E0B\u9762\u4EE5"),_n=s("code",null,"MySQL",-1),mn=n("\u4E3A\u4F8B\uFF0C\u4F7F\u7528\u65F6\u8BF7\u5148\u5BFC\u5165 "),bn={href:"https://github.com/walinejs/waline/blob/main/assets/waline.sql",target:"_blank",rel:"noopener noreferrer"},kn=n("waline.sql"),gn=n(" \u4EE5\u5B8C\u6210\u8868\u548C\u8868\u7ED3\u6784\u7684\u521B\u5EFA\uFF0C\u4E4B\u540E\u5728\u9879\u76EE\u4E2D\u914D\u7F6E\u5982\u4E0B\u73AF\u5883\u53D8\u91CF\uFF1A"),fn=l(`<table><thead><tr><th>\u73AF\u5883\u53D8\u91CF\u540D\u79F0</th><th>\u5FC5\u586B</th><th>\u9ED8\u8BA4\u503C</th><th>\u5907\u6CE8</th></tr></thead><tbody><tr><td>MYSQL*HOST</td><td></td><td>127.0.0.1</td><td>MySQL \u670D\u52A1\u7684\u5730\u5740</td></tr><tr><td>MYSQL_PORT</td><td></td><td>3306</td><td>MySQL \u670D\u52A1\u7684\u7AEF\u53E3</td></tr><tr><td>MYSQL_DB</td><td>\u2705</td><td></td><td>MySQL \u6570\u636E\u5E93\u5E93\u540D</td></tr><tr><td>MYSQL_USER</td><td>\u2705</td><td></td><td>MySQL \u6570\u636E\u5E93\u7684\u7528\u6237\u540D</td></tr><tr><td>MYSQL_PASSWORD</td><td>\u2705</td><td></td><td>MySQL \u6570\u636E\u5E93\u7684\u5BC6\u7801</td></tr><tr><td>MYSQL_PREFIX</td><td></td><td>wl*</td><td>MySQL \u6570\u636E\u8868\u7684\u8868\u524D\u7F00</td></tr><tr><td>MYSQL_CHARSET</td><td></td><td>utf8mb4</td><td>MySQL \u6570\u636E\u8868\u7684\u5B57\u7B26\u96C6</td></tr><tr><td>MYSQL_SSL</td><td></td><td></td><td>\u662F\u5426\u4F7F\u7528 SSL MYSQL \u8FDE\u63A5\u6570\u636E\u5E93</td></tr></tbody></table><p>\u2003\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u53EF\u4EE5\u53EA\u914D\u7F6E\u5FC5\u586B\u9879\uFF0C\u5176\u4ED6\u9009\u9879\u91C7\u7528\u9ED8\u8BA4\u503C\u5373\u53EF\u3002\u5176\u4ED6\u6570\u636E\u5E93\u914D\u7F6E\u4E5F\u4E00\u6837\uFF0C\u53EA\u662F\u914D\u7F6E\u9879\u5B58\u5728\u5DEE\u5F02\u800C\u5DF2\uFF0C\u5F88\u7B80\u5355\u3002\u73AF\u5883\u53D8\u91CF\u4F7F\u7528\u6709\u4EE5\u4E0B 2 \u79CD\u65B9\u5F0F\uFF1A</p><h4 id="\u65B9\u5F0F\u4E00" tabindex="-1"><a class="header-anchor" href="#\u65B9\u5F0F\u4E00" aria-hidden="true">#</a> \u65B9\u5F0F\u4E00\uFF1A</h4><p>\u2003\u5982\u679C\u4F60\u7684\u670D\u52A1\u5668\u662F linux \u64CD\u4F5C\u7CFB\u7EDF\u7684\u8BDD\uFF0C\u90A3\u4E48\u5C31\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539\u5C5E\u4E3B\u76EE\u5F55\u4E0B\u7684.bashrc \u6587\u4EF6\uFF0C\u5E76\u5199\u5165\u4EE5\u4E0B\u5185\u5BB9\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">MYSQL_HOST</span><span class="token operator">=</span><span class="token number">12.12</span>.12.12
<span class="token builtin class-name">export</span> <span class="token assign-left variable">MYSQL_PORT</span><span class="token operator">=</span><span class="token number">3306</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">MYSQL_DB</span><span class="token operator">=</span>waline
<span class="token comment">#\u4EE5\u8FD9\u4E09\u4E2A\u4E3A\u4F8B\uFF0C\u66F4\u591A\u8BF7\u5BF9\u7167\u53C2\u6570\u8868\u4E00\u4E00\u586B\u5199\u5373\u53EF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u2003\u586B\u5199\u5B8C\u6210\u540E\u4FDD\u5B58\u6587\u4EF6\u5E76\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u5237\u65B0\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">source</span> ~/.bashrc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u2003\u8BE5\u65B9\u6CD5\u662F\u76F4\u63A5\u5BFC\u51FA\u7CFB\u7EDF\u7EA7\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u4F7F<code>waline</code> \u670D\u52A1\u7AEF\u53EF\u4EE5\u4ECE<code>p<wbr>rocess.env</code>\u5BF9\u8C61\u4E2D\u987A\u5229\u8BFB\u53D6\u5230\uFF0C\u800C\u8FD9\u6837\u5B9A\u4E49\u7684\u5168\u5C40\u73AF\u5883\u53D8\u91CF\u5B58\u5728\u4E00\u4E2A\u5F0A\u7AEF\uFF0C\u5C31\u662F\u4F1A\u6C61\u67D3\u5230\u5168\u5C40\uFF0C\u53EF\u80FD\u4F1A\u5E72\u9884\u5230\u5176\u4ED6\u9879\u76EE\uFF0C\u800C\u4E14 windows \u4E0E linux \u7684\u914D\u7F6E\u65B9\u6CD5\u5404\u4E0D\u76F8\u540C\u3002\u6240\u4EE5\u8FD9\u91CC\u5E76\u4E0D\u63A8\u8350\uFF0C\u800C\u662F\u66F4\u63A8\u8350\u4F7F\u7528\u65B9\u6848\u4E8C</p><h4 id="\u65B9\u6848\u4E8C" tabindex="-1"><a class="header-anchor" href="#\u65B9\u6848\u4E8C" aria-hidden="true">#</a> \u65B9\u6848\u4E8C\uFF1A</h4><p>\u2003\u6211\u4EEC\u9700\u8981\u4E86\u89E3\u7684\u662F\uFF0C\u5728<code>nodejs</code> \u4E2D\uFF0C\u901A\u8FC7 <code>p<wbr>rocess.env</code> \u5BF9\u8C61\u53EF\u4EE5\u62FF\u5230\u5168\u5C40\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u800C\u6709\u8FD9\u4E48\u4E00\u4E2A\u7B2C\u4E09\u65B9\u5E93\uFF0C\u53EF\u4EE5\u505A\u5230\u65E2\u4E0D\u6C61\u67D3\u5168\u5C40\u73AF\u5883\u53D8\u91CF\uFF0C\u4E5F\u80FD\u5B9E\u73B0\u4EE3\u7801\u4E0E\u914D\u7F6E\u5206\u5F00\u7BA1\u7406\uFF1Adotenv\u3002\u8BE5\u5E93\u652F\u6301\u5C06\u73AF\u5883\u53D8\u91CF\u5199\u5165\u5230\u4E00\u4E2A\u5728\u9879\u76EE\u6839\u76EE\u5F55\u4E0B\u7684.env \u6587\u4EF6\u4E2D\uFF0C\u5E76\u5728\u4EE3\u7801\u4E2D\u901A\u8FC7<code>dotenv.config()</code>\u65B9\u6CD5\u5C06\u53D8\u91CF\u5408\u5E76\u81F3<code>p<wbr>rocess.env</code>\u5BF9\u8C61\u4E2D\uFF0C\u6BCF\u4E2A\u9879\u76EE\u7684.env \u6587\u4EF6\u90FD\u662F\u4E00\u4E2A\u72EC\u7ACB\u7684\u4F5C\u7528\u57DF\uFF0C\u5728\u9879\u76EE\u7ED3\u675F\u8FD0\u884C\u65F6\uFF0C<code>.env </code>\u6587\u4EF6\u4E2D\u7684\u5168\u5C40\u53D8\u91CF\u5C06\u88AB\u9500\u6BC1\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E2A\u65B9\u6CD5\uFF0C\u7F16\u5199\u4E00\u4E2A javascript \u811A\u672C\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u8C03\u7528<code>dotenv.config()</code>\u65B9\u6CD5\u5199\u5165\u5168\u5C40\u53D8\u91CF\uFF0C\u4E4B\u540E\u5F15\u5165\u5E76\u6267\u884C<code>@waline/vercel/vanilla.js</code> \u8FD9\u4E2A\u6587\u4EF6\u5373\u53EF\u3002</p><h3 id="\u9879\u76EE\u4F9D\u8D56\u5305\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u9879\u76EE\u4F9D\u8D56\u5305\u914D\u7F6E" aria-hidden="true">#</a> \u9879\u76EE\u4F9D\u8D56\u5305\u914D\u7F6E</h3><p>\u2003\u9879\u76EE\u4F9D\u8D56\u5305\u914D\u7F6E\uFF1A\u6784\u5EFA\u9879\u76EE\u76EE\u5F55\uFF0C\u53EF\u4EE5\u76F4\u63A5\u5728\u670D\u52A1\u5668\u4E2D\u642D\u5EFA\uFF0C\u4E5F\u53EF\u4EE5\u5728\u672C\u5730\u521B\u5EFA\u597D\u9879\u76EE\uFF0C\u518D\u4E0A\u4F20\u81F3\u670D\u52A1\u5668\u3002\u4E0B\u9762\u8BB2\u8FF0\u672C\u5730\u9879\u76EE\u6784\u5EFA\u65B9\u5F0F\uFF0C\u9879\u76EE\u540D\u79F0\u4E3A\uFF1A<code>waline-server</code>\u4E3A\u4F8B\u3002</p><ul><li>\u521B\u5EFA\u9879\u76EE\u76EE\u5F55</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> waline-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u521D\u59CB\u5316\u9879\u76EE</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> init <span class="token parameter variable">-y</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u5B89\u88C5\u4F9D\u8D56</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># dotenv\u73AF\u5883\u53D8\u91CF\u4F9D\u8D56</span>
<span class="token function">npm</span> <span class="token function">install</span> dotenv
<span class="token comment"># waline \u670D\u52A1\u5668\u7AEF\u4F9D\u8D56</span>
<span class="token function">npm</span> <span class="token function">install</span> @waline/vercel

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u521B\u5EFA\u73AF\u5883\u53D8\u91CF<code>.env</code>\u6587\u4EF6,\u5199\u5165\u73AF\u5883\u53D8\u91CF\u914D\u7F6E\u9879</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u6570\u636E\u5E93\u8FDE\u63A5\u5730\u5740</span>
<span class="token assign-left variable">MYSQL_HOST</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1
<span class="token comment"># \u6570\u636E\u5E93\u8FDE\u63A5\u7AEF\u53E3\u53F7</span>
<span class="token assign-left variable">MYSQL_PORT</span><span class="token operator">=</span><span class="token number">3306</span>
<span class="token comment"># \u6570\u636E\u5E93\u540D</span>
<span class="token assign-left variable">MYSQL_DB</span><span class="token operator">=</span>waline
<span class="token comment"># \u8FDE\u63A5\u6570\u636E\u5E93\u7528\u6237\u540D</span>
<span class="token assign-left variable">MYSQL_USER</span><span class="token operator">=</span>root
<span class="token comment"># \u8FDE\u63A5\u5BC6\u7801</span>
<span class="token assign-left variable">MYSQL_PASSWORD</span><span class="token operator">=</span>thbbx09
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u521B\u5EFA\u7A0B\u5E8F\u5165\u53E3\u6587\u4EF6<code>main.js</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5F15\u5165dotenv</span>
<span class="token keyword">const</span> dotenv <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;dotenv&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u8C03\u7528config\u65B9\u6CD5\u5408\u5E76.env\u73AF\u5883\u53D8\u91CF</span>
dotenv<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// \u5F15\u5165\u5E76\u6267\u884C\u8BE5\u6587\u4EF6</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@waline/vercel/vanilla.js&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>package.json</code>\u914D\u7F6E<code>script</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node ./main.js&quot;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u2003\u81F3\u6B64\uFF0C\u9879\u76EE\u6784\u5EFA\u5B8C\u6210\uFF0C\u53EF\u4EE5\u5728\u672C\u5730\u542F\u52A8\u8FDB\u884C\u6D4B\u8BD5\uFF0C\u9ED8\u8BA4\u8BBF\u95EE\u5730\u5740\uFF1A<code>http://127.0.0.1:8360</code>,\u9ED8\u8BA4\u7AEF\u53E3\uFF1A<code>8360</code>\u3002\u5C06\u4EE3\u7801\u4E0A\u4F20\u81F3\u670D\u52A1\u5668\u9884\u8BBE\u76EE\u5F55\u4E0B\uFF0C\u8FDB\u884C\u90E8\u7F72\u3002\u9879\u76EE\u4EE3\u7801\u83B7\u53D6\u65B9\u5F0F\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/AnyFork/waline-server.git
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u670D\u52A1\u5668\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#\u670D\u52A1\u5668\u90E8\u7F72" aria-hidden="true">#</a> \u670D\u52A1\u5668\u90E8\u7F72</h3><p>\u2003\u670D\u52A1\u5668\u90E8\u7F72\u5206\u4E3A 2 \u4E2A\u6B65\u9AA4\uFF0C1 \u4E0A\u4F20\u4EE3\u7801\u81F3\u670D\u52A1\u5668\u5E76\u8FD0\u884C\uFF1B 2 \u914D\u7F6E nginx \u53CD\u5411\u4EE3\u7406\u3002</p><ul><li>\u9879\u76EE\u542F\u52A8 \u5C06\u4EE3\u7801\u4E0A\u4F20\u81F3\u9884\u8BBE\u76EE\u5F55\uFF0C\u7136\u540E\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\uFF1A</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u5B89\u88C5\u4F9D\u8D56</span>
<span class="token function">npm</span> <span class="token function">install</span>
<span class="token comment"># \u9879\u76EE\u542F\u52A8</span>
<span class="token function">npm</span> run start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Nginx \u53CD\u5411\u4EE3\u7406 \u5982\u679C\u4F60\u4E0D\u60F3\u5E26\u7AEF\u53E3\u8BBF\u95EE\u7684\u8BDD\uFF0C\u53EF\u4EE5\u589E\u52A0 Nginx 80 \u548C 443 \u7AEF\u53E3\u7684\u53CD\u4EE3\u3002\u53EF\u53C2\u8003\u5982\u4E0B\u914D\u7F6E:</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>server
<span class="token punctuation">{</span>
  listen <span class="token number">80</span><span class="token punctuation">;</span>
  listen <span class="token number">443</span> ssl http2<span class="token punctuation">;</span>
  server_name your.domain.server.name<span class="token punctuation">;</span>
  root /www/wwwroot/your.domain.server.name<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$server_port</span> <span class="token operator">!</span>~ <span class="token number">443</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    rewrite ^<span class="token punctuation">(</span>/.*<span class="token punctuation">)</span>$ https://<span class="token variable">$host</span><span class="token variable">$1</span> permanent<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment"># SSL setting</span>
  ssl_certificate fullchain.pem<span class="token punctuation">;</span>
  ssl_certificate_key privkey.pem<span class="token punctuation">;</span>
  ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3<span class="token punctuation">;</span>
  ssl_ciphers EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+AES128:RSA+AES128:EECDH+AES256:RSA+AES256:EECDH+3DES:RSA+3DES:<span class="token operator">!</span>MD5<span class="token punctuation">;</span>
  ssl_prefer_server_ciphers on<span class="token punctuation">;</span>
  ssl_session_cache shared:SSL:10m<span class="token punctuation">;</span>
  ssl_session_timeout 10m<span class="token punctuation">;</span>
  add_header Strict-Transport-Security <span class="token string">&quot;max-age=31536000&quot;</span><span class="token punctuation">;</span>

  <span class="token comment"># proxy to 8360</span>
  location / <span class="token punctuation">{</span>
    proxy_pass http://127.0.0.1:8360<span class="token punctuation">;</span>
    proxy_set_header Host <span class="token variable">$host</span><span class="token punctuation">;</span>
    proxy_set_header X-Real-IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
    proxy_set_header X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
    proxy_set_header X-Forwarded-Proto <span class="token variable">$scheme</span><span class="token punctuation">;</span>
    proxy_set_header REMOTE-HOST <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
    add_header X-Cache <span class="token variable">$upstream_cache_status</span><span class="token punctuation">;</span>
    <span class="token comment"># cache</span>
    add_header Cache-Control no-cache<span class="token punctuation">;</span>
    expires 12h<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,32);function Sn(wn,xn){const e=c("ExternalLinkIcon");return i(),o("div",null,[r,p,s("p",null,[u,s("a",v,[h,a(e)]),_,m,b,s("a",k,[g,a(e)]),f,s("a",S,[w,a(e)]),x,L,y,s("a",M,[Q,a(e)]),E,j,C,Y,A,H,D,s("a",F,[R,a(e)]),T]),s("div",q,[O,$,s("p",null,[P,s("a",N,[B,a(e)]),V]),X]),I,s("p",null,[W,U,z,s("a",G,[J,a(e)]),K,Z,nn,sn,en,an,tn]),on,s("p",null,[ln,cn,dn,rn,pn,s("a",un,[vn,a(e)]),hn,_n,mn,s("a",bn,[kn,a(e)]),gn]),fn])}var yn=t(d,[["render",Sn],["__file","walineServer.html.vue"]]);export{yn as default};
